<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>General Tasks &mdash; Elements SDK 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Application" href="developer.html" />
    <link rel="prev" title="Features" href="basics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Elements SDK
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basic Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#docker">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#support">Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SDK Usage</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">General Tasks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#checkout">Checkout</a></li>
<li class="toctree-l2"><a class="reference internal" href="#init">Init</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clean">Clean</a></li>
<li class="toctree-l2"><a class="reference internal" href="#socs">SOCs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boards">Boards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#fpga-flow">FPGA Flow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prepare">Prepare</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compile-zephyr">Compile (Zephyr)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generate-zibal">Generate (Zibal)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulate">Simulate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#synthesize">Synthesize</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build">Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flash">Flash</a></li>
<li class="toctree-l2"><a class="reference internal" href="#debug">Debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test">Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#benchmark">Benchmark</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#asic-flow">ASIC Flow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html#system-on-chip">System on Chip</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html#board">Board</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html#kit">Kit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="platforms.html">Hydrogen</a></li>
<li class="toctree-l1"><a class="reference internal" href="platforms.html#helium">Helium</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Elements SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>General Tasks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="general-tasks">
<h1>General Tasks<a class="headerlink" href="#general-tasks" title="Permalink to this headline"></a></h1>
<p>For common tasks a dedicated tool exists called <code class="docutils literal notranslate"><span class="pre">elements.py</span></code>. This can be used to initialize or
clean the project or to get information about available SOCs or boards.</p>
<section id="checkout">
<h2>Checkout<a class="headerlink" href="#checkout" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">checkout</span></code> command checks out all repositories from either the default release manifest
or a custom file given with the <code class="docutils literal notranslate"><span class="pre">--manifest</span></code> parameter.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements.py init [--manifest next.xml] [-f]
</pre></div>
</div>
</section>
<section id="init">
<h2>Init<a class="headerlink" href="#init" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">init</span></code> command downloads all repositories or toolchains and compiles required binaries. By
default the current release manifest will be used. Another manifest can be passed as argument with
the <code class="docutils literal notranslate"><span class="pre">--manifest</span></code> parameter. To re-initialize the project, the parameter <code class="docutils literal notranslate"><span class="pre">-f</span></code> can force to
initialize.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements.py init [--manifest next.xml] [-f]
</pre></div>
</div>
</section>
<section id="clean">
<h2>Clean<a class="headerlink" href="#clean" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">clean</span></code> command can remove all build artifacts for a kit, soc or the entire build.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements.py clean [&lt;soc&gt; [&lt;board&gt;]]
</pre></div>
</div>
</section>
<section id="socs">
<h2>SOCs<a class="headerlink" href="#socs" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">socs</span></code> command lists all available SOCs.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements.py socs
</pre></div>
</div>
</section>
<section id="boards">
<h2>Boards<a class="headerlink" href="#boards" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">boards</span></code> command lists all available boards for a SOC.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements.py boards &lt;soc&gt;
</pre></div>
</div>
</section>
</section>
<section id="fpga-flow">
<h1>FPGA Flow<a class="headerlink" href="#fpga-flow" title="Permalink to this headline"></a></h1>
<p>The SDK has some stages to generate a MCU and its firmware from sources. This section describes
each stage and the flow between them.</p>
<a class="reference internal image-reference" href="_images/elements-fpga-flow.png"><img alt="_images/elements-fpga-flow.png" src="_images/elements-fpga-flow.png" style="width: 600px;" /></a>
<p>After the SDK was initialized, two pathes are possible. The shortest is to <code class="docutils literal notranslate"><span class="pre">build</span></code> a bitstream,
which can be flashed to a FPGA board directly. Otherwise, a step-by-step path allows to check and
debug. First, <code class="docutils literal notranslate"><span class="pre">prepare</span></code> necessary files for the toolchains. Secondly, <code class="docutils literal notranslate"><span class="pre">compile</span></code> the firmware
with an given application. Either <code class="docutils literal notranslate"><span class="pre">debug</span></code> or <code class="docutils literal notranslate"><span class="pre">flash</span></code> it to a running design or <code class="docutils literal notranslate"><span class="pre">generate</span></code>
the SOC design. Afterwards, it’s possible to <code class="docutils literal notranslate"><span class="pre">simulate</span></code> the design or <code class="docutils literal notranslate"><span class="pre">synthesize</span></code> the
bitstream. Lastly, <code class="docutils literal notranslate"><span class="pre">flash</span></code> the generated bitstream to a FPGA board.</p>
<p>The SDK flow can be used with the <code class="docutils literal notranslate"><span class="pre">elements-fpga.py</span></code> tool. This chapters explains each stage of
the flow. However, the help text can also support with the built-in commands.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py -h
</pre></div>
</div>
<section id="prepare">
<h2>Prepare<a class="headerlink" href="#prepare" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">prepare</span></code> command creates data for a kit which are required by the following commands.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; prepare
</pre></div>
</div>
<p>Example to prepare a kit with a Hydrogen1 SOC for the Nexys4-DDR board:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR prepare
</pre></div>
</div>
</section>
<section id="compile-zephyr">
<h2>Compile (Zephyr)<a class="headerlink" href="#compile-zephyr" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">compile</span></code> command compiles an application for a board. Both values must be passed as
mandatory argument. An optional flag <code class="docutils literal notranslate"><span class="pre">-f</span></code> can force to not use the build cache and compile
entirely new.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; compile zephyr &lt;application&gt; [-f]
</pre></div>
</div>
<p>Example to compile the LED demo for a kit with the Hydrogen1 SOC and the Nexys4-DDR board:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR compile zephyr-samples/demo/leds
</pre></div>
</div>
</section>
<section id="generate-zibal">
<h2>Generate (Zibal)<a class="headerlink" href="#generate-zibal" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">generate</span></code> command can build a SOC designs for a kit. Moreover, it will create files for
the toolchains.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>FPGA based SOC designs will add the compiled Zephyr binary into the memory.</p>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; generate
</pre></div>
</div>
<p>Example to build the Hydrogen1 SOC for a kit with the Nexys4-DDR board.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR generate
</pre></div>
</div>
</section>
<section id="simulate">
<h2>Simulate<a class="headerlink" href="#simulate" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">simulate</span></code> command can simulate a kit. The toolchain can be passed with the optional
parameter <code class="docutils literal notranslate"><span class="pre">--toolchain</span></code>. The Open-Source toolchain is selected by default. A further
option can select the source type to simulate for example a synthesized design.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; simulate
</pre></div>
</div>
<p>Example to simulate a kit with the Hydrogen1 SOC and the Nexys4-DDR board:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR simulate
</pre></div>
</div>
</section>
<section id="synthesize">
<h2>Synthesize<a class="headerlink" href="#synthesize" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">synthesize</span></code> is similiar to the simulate. It can synthesize a SOC design for a board.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; synthesize [--toolchain &lt;xilinx/symbiflow&gt;]
</pre></div>
</div>
<p>Example to synthesize a kit with the Hydrogen1 SOC and the Nexys4-DDR board:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR synthesize --toolchain symbiflow
</pre></div>
</div>
</section>
<section id="build">
<h2>Build<a class="headerlink" href="#build" title="Permalink to this headline"></a></h2>
<p>Sometimes only the bitsream is required and to not run all steps, the <code class="docutils literal notranslate"><span class="pre">build</span></code> command can
prepare, compile, generate and synthesize a design. It requires an application if the board
requests one.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; build [&lt;application&gt;]
</pre></div>
</div>
<p>Example to build a kit with the Hydrogen1 SOC and the Nexys4-DDR board:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR build zephyr-samples/startup/mtimer/ \
    --toolchain symbiflow
</pre></div>
</div>
</section>
<section id="flash">
<h2>Flash<a class="headerlink" href="#flash" title="Permalink to this headline"></a></h2>
<p>This command flashes a bitsream directly into a FPGA or permantly into a SPI NOR. Alternatively,
it can also flash a firmware into the memory of the MCU. The FPGA destination is set by default.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; flash [--destination &lt;fpga/spi/memory&gt;]
</pre></div>
</div>
<p>Example to flash the FPGA on a kit with the Hydrogen1 SOC and the Nexys4-DDR board:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR flash
</pre></div>
</div>
</section>
<section id="debug">
<h2>Debug<a class="headerlink" href="#debug" title="Permalink to this headline"></a></h2>
<p>The debug command supports debugging the firmware. It flashes a new firmware and opens a debugger
(GDB) before starting at start address.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; debug
</pre></div>
</div>
<p>Example to flash the firmware into the memory and start at the start address:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR debug
</pre></div>
</div>
</section>
<section id="test">
<h2>Test<a class="headerlink" href="#test" title="Permalink to this headline"></a></h2>
<p>Applications can be simulated on a kit to verify the hard- and software of peripherals works as
expected by checking against predefined test cases.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; &lt;testcase&gt; test
</pre></div>
</div>
<p>Example to test the mtimer startup application for the Hydrogen1 SOC and the Nexys4-DDR board:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR mtimer test
</pre></div>
</div>
</section>
<section id="benchmark">
<h2>Benchmark<a class="headerlink" href="#benchmark" title="Permalink to this headline"></a></h2>
<p>This command provides speed and size information about a kit. These data are useful to compare
different kind of kits among each other.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py &lt;soc&gt; &lt;board&gt; benchmark
</pre></div>
</div>
<p>Example to generate speed and size information for the Hydrogen1 SOC and the Nexys4-DDR board:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./elements-fpga.py Hydrogen1 Nexys4-DDR benchmark
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command is only available in release v22.2 or later.</p>
</div>
</section>
</section>
<section id="asic-flow">
<h1>ASIC Flow<a class="headerlink" href="#asic-flow" title="Permalink to this headline"></a></h1>
<p>TBD.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="basics.html" class="btn btn-neutral float-left" title="Features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="developer.html" class="btn btn-neutral float-right" title="Application" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, PHYTEC Messtechnik GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>